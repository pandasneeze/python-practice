# UNIT 32 람다 표현식 사용하기
람다 표현식으로 익명 함수를 만드는 방법을 공부합니다.

## 람다 표현식으로 함수 만들기
- 형식: `lambda 매개변수들: 식` 
- 람다 표현식은 이름이 없는 함수를 만듦
- 예: 숫자를 받은 뒤 10을 더해서 반환하는 함수를 람다 표현식으로<br>
`lambda x: x + 10`<br>
- lambda로 만든 익명 함수를 호출하려면 람다 표현식을 변수에 할당하면 됨
```
>>> plus_ten = lambda x: x + 10
>>> plus_ten(1)
11
```

## 람다 표현식 자체를 호출하기
- 람다 표현식은 변수에 할당하지 않고 바로 호출할 수도 있음
- `(lambda 매개변수들: 식)(인수들)`
- 예:
```
>>> (lambda x: x + 10)(1)
11
```
- 람다 표현식 내에서 변수 생성 불가(표현식 바깥에 있는 변수는 사용 가능)
```
>>> (lambda x: y = 10; x + y)(1)
  File "<stdin>", line 1
    (lambda x: y = 10; x + y)(1)
                 ^
SyntaxError: invalid syntax
```
```
>>> y = 10
>>> (lambda x: x + y)(1)
11
```

## 람다 표현식을 인수로 사용하기
- 람다 표현식을 사용하면 함수의 인수 부분에서 간단하게 할 수 있음(함수의 정의 부분을 건너뛸 수 있음)
- 예: 함수만 사용
```
>>> def plus_ten(x):
...     return x + 10
... 
>>> list(map(plus_ten, [1, 2, 3]))
[11, 12, 13]
```
- 람다 표현식 사용
```
>>> list(map(lambda x: x + 10, [1, 2, 3]))
[11, 12, 13]
```
- *(참고)* 람다 표현식으로 매개변수가 없는 함수 만들기
  * 매개변수가 없을 때는 lambda 뒤에 :을 붙임
  * 반드시 반환 값이 있어야함(표현식은 반드시 값으로 평가되어야 하기 때문)
  ```
  >>> (lambda : 1)()
  1
  >>> x = 10
  >>> (lambda : x)()
  10
  ```

## 람다 표현식에 조건부 표현식 사용하기
- `lambda 매개변수들: 식1 if 조건식 else 식2`
- 식1은 조건이 참일 때, 식2는 조건이 거짓일 때 사용할 식임
- 람다 표현식에선 if를 사용하면 반드시 else도 사용해야함(elif는 불가)
- 예: 리스트 a에서 3의 배수를 문자열로 반환
```
>>> list(map(lambda x: str(x) if x % 3 == 0 else x, a))
[1, 2, '3', 4, 5, '6', 7, 8, '9', 10]
```
- if를 연속으로 사용 가능: `lambda 매개변수들: 식1 if 조건식1 else 식2 if 조건식2 else 식3
- 예: 리스트에서 1은 문자열로 반환하고, 2는 실수로 반환, 3이상은 10을 더하는 식
```
>>> list(map(lambda x: str(x) if x == 1 else float(x) if x == 2 else x + 10, a))
['1', 2.0, 13, 14, 15, 16, 17, 18, 19, 20]
```

## map에 객체를 여러 개 넣기
- map은 리스트 등의 반복 가능한 객체를 여러 개 넣을 수 있음
- 예: 두 리스트의 요소를 곱해서 새 리스트 만들기
```
>>> a
[1, 2, 3, 4, 5]
>>> b
[2, 4, 6, 8, 10]
>>> list(map(lambda x, y: x * y, a, b))
[2, 8, 18, 32, 50]
```

## filter 사용하기
- `filter`에 지정한 함수의 반환값이 True일 때만 해당 요소를 가져옴
- `filter(함수, 반복가능한객체)`
- 예: 리스트에서 5보다 크면서 10보다 작은 숫자 가져오기
```
>>> def f(x):
...     return x > 5 and x < 10
... 
>>> a = [8, 3, 2, 10, 15, 7, 1, 9, 0, 11]
>>> list(filter(f, a))
[8, 7, 9]
```
- 함수 f를 람다 표현식으로:
```
>>> a
[8, 3, 2, 10, 15, 7, 1, 9, 0, 11]
>>> list(filter(lambda x: x > 5 and x < 10, a))
[8, 7, 9]
```
- *(참고)* 함수 f를 리스트 표현식으로 나타낼 수도 있음(권장)<br>
`[i for i in a if i > 5 and i < 10]`<br>
- 리스트 표현식이 좀 더 알아보기 쉽고 속도도 빠름

## reduce 사용하기
- `reduce`는 반복 가능한 객체의 각 요소를 지정된 함수로 처리한 뒤 이전 결과와 누적해서 반환하는 함수
- `functools` 모듈에서 가져와야함
- `reduce(함수, 반복가능한객체)`
- 예: 리스트에 저장된 요소를 순서대로 더한 뒤 누적된 결과 반환
```
>>> def f(x, y):
...     return x + y
... 
>>> a = [1, 2, 3, 4, 5]
>>> from functools import reduce 
>>> reduce(f, a)
15
```
- 함수 f를 람다 표현식으로:
```
>>> a
[1, 2, 3, 4, 5]
>>> from functools import reduce
>>> reduce(lambda x, y: x + y, a)
15
```
- reduce보단 for, while을 권장함
